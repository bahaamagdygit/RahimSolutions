<div class="register-container">
  <div class="register-content">
    <!-- Left Side - Form -->
    <div class="form-section">
      <div class="form-header">
        <div class="logo">
          <img src="/assts/imge/MainLogo.png" alt="Registration" class="logo-img"/>
        </div>
        <h1 class="title">Create Account</h1>
        <p class="subtitle">Please input to your account details</p>
      </div>

      <!-- Stepper -->
      <div class="stepper">
        @for (step of steps; track step.number) {
          <div class="step-item" [class.active]="currentStep() === step.number" [class.completed]="currentStep() > step.number">
            <div class="step-circle" (click)="goToStep(step.number)">
              @if (currentStep() > step.number) {
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <path d="M13.3 4.3L6 11.6L2.7 8.3" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              } @else {
                @switch (step.number) {
                  @case (1) {
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                      <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" fill="currentColor"/>
                      <path d="M10 12C5.58172 12 2 15.5817 2 20H18C18 15.5817 14.4183 12 10 12Z" fill="currentColor"/>
                    </svg>
                  }
                  @case (2) {
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                      <path d="M17 5H3C1.89543 5 1 5.89543 1 7V16C1 17.1046 1.89543 18 3 18H17C18.1046 18 19 17.1046 19 16V7C19 5.89543 18.1046 5 17 5Z" stroke="currentColor" stroke-width="2"/>
                      <path d="M1 10H19" stroke="currentColor" stroke-width="2"/>
                      <path d="M7 2L7 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M13 2L13 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  }
                  @case (3) {
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                      <path d="M11 1H3C1.89543 1 1 1.89543 1 3V17C1 18.1046 1.89543 19 3 19H17C18.1046 19 19 18.1046 19 17V9" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M17 1L17 7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M14 4H20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M5 10H10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                      <path d="M5 14H15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  }
                }
              }
            </div>
            <div class="step-label">
              <span class="step-number">Step {{ step.number }}</span>
              <span class="step-title">{{ step.title }}</span>
              <span class="step-subtitle">{{ step.subtitle }}</span>
            </div>
            @if (step.number < steps.length) {
              <div class="step-line" [class.completed]="currentStep() > step.number"></div>
            }
          </div>
        }
      </div>

      <!-- Step 1: General Information -->
      @if (currentStep() === 1) {
        <form [formGroup]="generalInfoForm" class="register-form">
          <!-- Name Fields -->
          <div class="form-row">
            <div class="form-group">
              <label for="firstName">First Name</label>
              <div class="input-wrapper">
                <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" fill="#9CA3AF"/>
                  <path d="M10 12C5.58172 12 2 15.5817 2 20H18C18 15.5817 14.4183 12 10 12Z" fill="#9CA3AF"/>
                </svg>
                <input
                  type="text"
                  id="firstName"
                  formControlName="firstName"
                  placeholder="Input your first name"
                  [class.error]="generalInfoForm.get('firstName')?.invalid && generalInfoForm.get('firstName')?.touched"
                />
              </div>
              @if (generalInfoForm.get('firstName')?.invalid && generalInfoForm.get('firstName')?.touched) {
                <span class="error-message">{{ getErrorMessage('generalInfo', 'firstName') }}</span>
              }
            </div>

            <div class="form-group">
              <label for="lastName">Last Name</label>
              <div class="input-wrapper">
                <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" fill="#9CA3AF"/>
                  <path d="M10 12C5.58172 12 2 15.5817 2 20H18C18 15.5817 14.4183 12 10 12Z" fill="#9CA3AF"/>
                </svg>
                <input
                  type="text"
                  id="lastName"
                  formControlName="lastName"
                  placeholder="Input your last name"
                  [class.error]="generalInfoForm.get('lastName')?.invalid && generalInfoForm.get('lastName')?.touched"
                />
              </div>
              @if (generalInfoForm.get('lastName')?.invalid && generalInfoForm.get('lastName')?.touched) {
                <span class="error-message">{{ getErrorMessage('generalInfo', 'lastName') }}</span>
              }
            </div>
          </div>

          <!-- Email -->
          <div class="form-group">
            <label for="email">Email</label>
            <div class="input-wrapper">
              <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M3 4H17C17.55 4 18 4.45 18 5V15C18 15.55 17.55 16 17 16H3C2.45 16 2 15.55 2 15V5C2 4.45 2.45 4 3 4Z" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M18 5L10 11L2 5" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <input
                type="email"
                id="email"
                formControlName="email"
                placeholder="Input your email"
                [class.error]="generalInfoForm.get('email')?.invalid && generalInfoForm.get('email')?.touched"
              />
            </div>
            @if (generalInfoForm.get('email')?.invalid && generalInfoForm.get('email')?.touched) {
              <span class="error-message">{{ getErrorMessage('generalInfo', 'email') }}</span>
            }
          </div>

          <!-- Phone Number -->
          <div class="form-group">
            <label for="phoneNumber">Phone Number</label>
            <div class="input-wrapper phone-input">
              <div class="country-code">
                <img src="https://flagcdn.com/w40/us.png" alt="US Flag" class="flag-icon" />
                <span>{{ selectedCountryCode() }}</span>
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
                  <path d="M3 5L6 8L9 5" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round"/>
                </svg>
              </div>
              <input
                type="tel"
                id="phoneNumber"
                formControlName="phoneNumber"
                placeholder="Your number"
                [class.error]="generalInfoForm.get('phoneNumber')?.invalid && generalInfoForm.get('phoneNumber')?.touched"
              />
            </div>
            @if (generalInfoForm.get('phoneNumber')?.invalid && generalInfoForm.get('phoneNumber')?.touched) {
              <span class="error-message">{{ getErrorMessage('generalInfo', 'phoneNumber') }}</span>
            }
          </div>

          <!-- Password -->
          <div class="form-group">
            <label for="password">Password</label>
            <div class="input-wrapper">
              <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M15 8H14V5C14 2.79 12.21 1 10 1C7.79 1 6 2.79 6 5V8H5C3.9 8 3 8.9 3 10V18C3 19.1 3.9 20 5 20H15C16.1 20 17 19.1 17 18V10C17 8.9 16.1 8 15 8ZM10 15C8.9 15 8 14.1 8 13C8 11.9 8.9 11 10 11C11.1 11 12 11.9 12 13C12 14.1 11.1 15 10 15ZM11.1 8H8.9V5C8.9 3.29 10.29 1.9 12 1.9C13.71 1.9 15.1 3.29 15.1 5V8H11.1Z" fill="#9CA3AF"/>
              </svg>
              <input
                [type]="showPassword() ? 'text' : 'password'"
                id="password"
                formControlName="password"
                placeholder="Your password"
                [class.error]="generalInfoForm.get('password')?.invalid && generalInfoForm.get('password')?.touched"
              />
              <button type="button" class="toggle-password" (click)="togglePasswordVisibility()">
                @if (showPassword()) {
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M10 4C5 4 1.73 7.11 1 10c.73 2.89 4 6 9 6s8.27-3.11 9-6c-.73-2.89-4-6-9-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0-6.5c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5z" fill="#9CA3AF"/>
                  </svg>
                } @else {
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M10 4C5 4 1.73 7.11 1 10c.73 2.89 4 6 9 6s8.27-3.11 9-6c-.73-2.89-4-6-9-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0-6.5c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5z" fill="#9CA3AF"/>
                    <line x1="2" y1="2" x2="18" y2="18" stroke="#9CA3AF" stroke-width="2"/>
                  </svg>
                }
              </button>
            </div>
            @if (generalInfoForm.get('password')?.invalid && generalInfoForm.get('password')?.touched) {
              <span class="error-message">{{ getErrorMessage('generalInfo', 'password') }}</span>
            }
          </div>

          <!-- Confirm Password -->
          <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <div class="input-wrapper">
              <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M15 8H14V5C14 2.79 12.21 1 10 1C7.79 1 6 2.79 6 5V8H5C3.9 8 3 8.9 3 10V18C3 19.1 3.9 20 5 20H15C16.1 20 17 19.1 17 18V10C17 8.9 16.1 8 15 8ZM10 15C8.9 15 8 14.1 8 13C8 11.9 8.9 11 10 11C11.1 11 12 11.9 12 13C12 14.1 11.1 15 10 15ZM11.1 8H8.9V5C8.9 3.29 10.29 1.9 12 1.9C13.71 1.9 15.1 3.29 15.1 5V8H11.1Z" fill="#9CA3AF"/>
              </svg>
              <input
                [type]="showConfirmPassword() ? 'text' : 'password'"
                id="confirmPassword"
                formControlName="confirmPassword"
                placeholder="Your password"
                [class.error]="generalInfoForm.get('confirmPassword')?.invalid && generalInfoForm.get('confirmPassword')?.touched"
              />
              <button type="button" class="toggle-password" (click)="toggleConfirmPasswordVisibility()">
                @if (showConfirmPassword()) {
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M10 4C5 4 1.73 7.11 1 10c.73 2.89 4 6 9 6s8.27-3.11 9-6c-.73-2.89-4-6-9-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0-6.5c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5z" fill="#9CA3AF"/>
                  </svg>
                } @else {
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M10 4C5 4 1.73 7.11 1 10c.73 2.89 4 6 9 6s8.27-3.11 9-6c-.73-2.89-4-6-9-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0-6.5c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5z" fill="#9CA3AF"/>
                    <line x1="2" y1="2" x2="18" y2="18" stroke="#9CA3AF" stroke-width="2"/>
                  </svg>
                }
              </button>
            </div>
            @if (generalInfoForm.get('confirmPassword')?.invalid && generalInfoForm.get('confirmPassword')?.touched) {
              <span class="error-message">{{ getErrorMessage('generalInfo', 'confirmPassword') }}</span>
            }
          </div>

          <!-- Continue Button -->
          <button type="button" class="submit-btn" (click)="nextStep()">
            Continue
          </button>

          <!-- Sign In Link -->
          <p class="signin-link">
            Already have an account? <a routerLink="/login">Sign In</a>
          </p>
        </form>
      }

      <!-- Step 2: Company Information -->
      @if (currentStep() === 2) {
        <form [formGroup]="companyInfoForm" class="register-form">
          <!-- Company Name -->
          <div class="form-group">
            <label for="companyName">Company Name</label>
            <div class="input-wrapper">
              <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M17 5H3C1.89543 5 1 5.89543 1 7V16C1 17.1046 1.89543 18 3 18H17C18.1046 18 19 17.1046 19 16V7C19 5.89543 18.1046 5 17 5Z" stroke="#9CA3AF" stroke-width="1.5"/>
                <path d="M1 10H19" stroke="#9CA3AF" stroke-width="1.5"/>
                <path d="M7 2L7 5" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M13 2L13 5" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
              <input
                type="text"
                id="companyName"
                formControlName="companyName"
                placeholder="Input your first name"
                [class.error]="companyInfoForm.get('companyName')?.invalid && companyInfoForm.get('companyName')?.touched"
              />
            </div>
            @if (companyInfoForm.get('companyName')?.invalid && companyInfoForm.get('companyName')?.touched) {
              <span class="error-message">{{ getErrorMessage('companyInfo', 'companyName') }}</span>
            }
          </div>

          <!-- Company Size -->
          <div class="form-group">
            <label for="companySize">Company Size</label>
            <div class="input-wrapper select-wrapper">
              <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M15 6H5C3.89543 6 3 6.89543 3 8V16C3 17.1046 3.89543 18 5 18H15C16.1046 18 17 17.1046 17 16V8C17 6.89543 16.1046 6 15 6Z" stroke="#9CA3AF" stroke-width="1.5"/>
                <path d="M7 6V4C7 2.89543 7.89543 2 9 2H11C12.1046 2 13 2.89543 13 4V6" stroke="#9CA3AF" stroke-width="1.5"/>
                <circle cx="7" cy="11" r="1.5" fill="#9CA3AF"/>
                <circle cx="10" cy="11" r="1.5" fill="#9CA3AF"/>
                <circle cx="13" cy="11" r="1.5" fill="#9CA3AF"/>
              </svg>
              <select
                id="companySize"
                formControlName="companySize"
                [class.error]="companyInfoForm.get('companySize')?.invalid && companyInfoForm.get('companySize')?.touched"
              >
                <option value="" disabled selected>Choose from options</option>
                @for (size of companySizes; track size.value) {
                  <option [value]="size.value">{{ size.label }}</option>
                }
              </select>
              <svg class="select-arrow" width="12" height="12" viewBox="0 0 12 12" fill="none">
                <path d="M3 5L6 8L9 5" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            @if (companyInfoForm.get('companySize')?.invalid && companyInfoForm.get('companySize')?.touched) {
              <span class="error-message">{{ getErrorMessage('companyInfo', 'companySize') }}</span>
            }
          </div>

          <!-- Company Type -->
          <div class="form-group">
            <label for="companyType">Company Type</label>
            <div class="input-wrapper select-wrapper">
              <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M15 6H5C3.89543 6 3 6.89543 3 8V16C3 17.1046 3.89543 18 5 18H15C16.1046 18 17 17.1046 17 16V8C17 6.89543 16.1046 6 15 6Z" stroke="#9CA3AF" stroke-width="1.5"/>
                <path d="M7 6V4C7 2.89543 7.89543 2 9 2H11C12.1046 2 13 2.89543 13 4V6" stroke="#9CA3AF" stroke-width="1.5"/>
                <path d="M10 10V15" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M7.5 12.5H12.5" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
              <select
                id="companyType"
                formControlName="companyType"
                [class.error]="companyInfoForm.get('companyType')?.invalid && companyInfoForm.get('companyType')?.touched"
              >
                <option value="" disabled selected>Choose from options</option>
                @for (type of companyTypes; track type.value) {
                  <option [value]="type.value">{{ type.label }}</option>
                }
              </select>
              <svg class="select-arrow" width="12" height="12" viewBox="0 0 12 12" fill="none">
                <path d="M3 5L6 8L9 5" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            @if (companyInfoForm.get('companyType')?.invalid && companyInfoForm.get('companyType')?.touched) {
              <span class="error-message">{{ getErrorMessage('companyInfo', 'companyType') }}</span>
            }
          </div>

          <!-- Company Website -->
          <div class="form-group">
            <label for="companyWebsite">Company Website</label>
            <div class="input-wrapper">
              <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <circle cx="10" cy="10" r="8" stroke="#9CA3AF" stroke-width="1.5"/>
                <ellipse cx="10" cy="10" rx="4" ry="8" stroke="#9CA3AF" stroke-width="1.5"/>
                <path d="M2 10H18" stroke="#9CA3AF" stroke-width="1.5"/>
              </svg>
              <input
                type="url"
                id="companyWebsite"
                formControlName="companyWebsite"
                placeholder="input your website"
                [class.error]="companyInfoForm.get('companyWebsite')?.invalid && companyInfoForm.get('companyWebsite')?.touched"
              />
            </div>
          </div>

          <!-- Company Address -->
          <div class="form-group">
            <label for="companyAddress">Company Address</label>
            <div class="input-wrapper">
              <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 10C11.1046 10 12 9.10457 12 8C12 6.89543 11.1046 6 10 6C8.89543 6 8 6.89543 8 8C8 9.10457 8.89543 10 10 10Z" stroke="#9CA3AF" stroke-width="1.5"/>
                <path d="M10 18C10 18 16 13.5 16 8.5C16 5.18629 13.3137 2.5 10 2.5C6.68629 2.5 4 5.18629 4 8.5C4 13.5 10 18 10 18Z" stroke="#9CA3AF" stroke-width="1.5"/>
              </svg>
              <input
                type="text"
                id="companyAddress"
                formControlName="companyAddress"
                placeholder="Choose location on map"
                [class.error]="companyInfoForm.get('companyAddress')?.invalid && companyInfoForm.get('companyAddress')?.touched"
              />
              <button type="button" class="location-btn">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <circle cx="10" cy="10" r="3" stroke="#9CA3AF" stroke-width="1.5"/>
                  <path d="M10 2V4" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
                  <path d="M10 16V18" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
                  <path d="M18 10H16" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
                  <path d="M4 10H2" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
              </button>
            </div>
            @if (companyInfoForm.get('companyAddress')?.invalid && companyInfoForm.get('companyAddress')?.touched) {
              <span class="error-message">{{ getErrorMessage('companyInfo', 'companyAddress') }}</span>
            }
          </div>

          <!-- Continue Button -->
          <button type="button" class="submit-btn" (click)="nextStep()">
            Continue
          </button>

          <!-- Sign In Link -->
          <p class="signin-link">
            Already have an account? <a routerLink="/login">Sign In</a>
          </p>
        </form>
      }

      <!-- Step 3: Company Documents -->
      @if (currentStep() === 3) {
        <form [formGroup]="documentsForm" class="register-form" (ngSubmit)="onSubmit()">
          @for (doc of documents(); track $index; let i = $index) {
            <div class="document-section">
              <div class="form-row">
                <!-- Document Type -->
                <div class="form-group">
                  <label>Document Type</label>
                  <div class="input-wrapper select-wrapper">
                    <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                      <path d="M11 1H3C1.89543 1 1 1.89543 1 3V17C1 18.1046 1.89543 19 3 19H17C18.1046 19 19 18.1046 19 17V9" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
                      <path d="M5 10H10" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
                      <path d="M5 14H15" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <select
                      [value]="doc.documentType"
                      (change)="onDocumentTypeChange(i, $any($event.target).value)"
                    >
                      <option value="" disabled selected>Choose from options</option>
                      @for (docType of documentTypes; track docType.value) {
                        <option [value]="docType.value">{{ docType.label }}</option>
                      }
                    </select>
                    <svg class="select-arrow" width="12" height="12" viewBox="0 0 12 12" fill="none">
                      <path d="M3 5L6 8L9 5" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </div>
                </div>

                <!-- Expiry Date -->
                <div class="form-group">
                  <label>Expiry Date</label>
                  <div class="input-wrapper">
                    <input
                      type="date"
                      [value]="doc.expiryDate"
                      (change)="onExpiryDateChange(i, $any($event.target).value)"
                      placeholder="dd/mm/yyyy"
                    />
                    <svg class="date-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                      <path d="M17 3H3C1.89543 3 1 3.89543 1 5V17C1 18.1046 1.89543 19 3 19H17C18.1046 19 19 18.1046 19 17V5C19 3.89543 18.1046 3 17 3Z" stroke="#9CA3AF" stroke-width="1.5"/>
                      <path d="M1 8H19" stroke="#9CA3AF" stroke-width="1.5"/>
                      <path d="M6 1V5" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
                      <path d="M14 1V5" stroke="#9CA3AF" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                  </div>
                </div>
              </div>

              <!-- Document Image Upload -->
              <div class="form-group">
                <label>Document Image</label>
                <div
                  class="upload-area"
                  (dragover)="onDragOver($event)"
                  (drop)="onDrop($event, i)"
                  (click)="triggerFileInput(i)"
                >
                  @if (doc.imagePreview) {
                    <img [src]="doc.imagePreview" alt="Document preview" class="preview-image" />
                  } @else {
                    <div class="upload-placeholder">
                      <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                        <rect x="8" y="8" width="24" height="24" rx="4" stroke="#9CA3AF" stroke-width="2"/>
                        <circle cx="15" cy="16" r="2" fill="#9CA3AF"/>
                        <path d="M8 26L14 20L18 24L26 16L32 22V28C32 30.2091 30.2091 32 28 32H12C9.79086 32 8 30.2091 8 28V26Z" fill="#9CA3AF"/>
                      </svg>
                      <p>Drag and drop image here, or click add image</p>
                      <button type="button" class="add-image-btn">Add Image</button>
                    </div>
                  }
                  <input
                    type="file"
                    [id]="'fileInput-' + i"
                    accept="image/*"
                    (change)="onFileSelected($event, i)"
                    hidden
                  />
                </div>
              </div>

              <!-- Document Actions -->
              <div class="document-actions">
                <a class="add-document-link" (click)="addDocument()">Add Another Document</a>
                @if (documents().length > 1) {
                  <a class="remove-document-link" (click)="removeDocument(i)">Remove this</a>
                }
              </div>
            </div>
          }

          <!-- Submit Button -->
          <button type="submit" class="submit-btn">
            Submit
          </button>

          <!-- Sign In Link -->
          <p class="signin-link">
            Already have an account? <a routerLink="/login">Sign In</a>
          </p>
        </form>
      }
    </div>

    <!-- Right Side - Hero Section -->
    <app-side-imge></app-side-imge>
  </div>
</div>
